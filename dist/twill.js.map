{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/twill.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Twill","options","this","assign","prefix","methods","each","el","attr","data","res","split","length","resF","kItem","kKey","kItems","items","elNext","index","parseInt","item","localData","cloneEl","cloneNode","nodeName","nextSibling","parentNode","insertBefore","nested","remove","if","unless","text","textContent","html","innerHTML","class","classList","add","match","reduce","k","template","wrap","document","createElement","childNodes","forEach","cEl","removeAttribute","setAttribute","method","attrName","hasAttribute","getAttribute","values","map","removeChild","Function","e","console","error","window"],"mappings":"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","file":"twill.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class Twill {\n  constructor (options) {\n    const defaultOptions = {\n      prefix: 't-',\n      methods: {}\n    }\n    this.options = Object.assign({}, defaultOptions, options)\n    this.methods = {\n      each: (el, attr, name, data) => {\n        const res = attr.split(/ in /gm)\n        if (res.length !== 2) return\n\n        const resF = res[0].split(/[ ]*,[ ]*/gm)\n        if (resF.length !== 2) return\n        const [kItem, kKey] = resF\n\n        const kItems = res[1]\n        const items = this.var(kItems, data)\n        let elNext = el\n        for (const index in items) {\n          const i = parseInt(index)\n          const item = items[i]\n          const localData = Object.assign({}, data)\n          localData[kKey] = i\n          localData[kItem] = item\n          const cloneEl = el.cloneNode(true)\n          while (elNext.nodeName !== '#text') elNext = elNext.nextSibling\n          el.parentNode.insertBefore(cloneEl, elNext)\n          this.nested(cloneEl, localData)\n        }\n        this.remove(el)\n        return true\n      },\n      if: (el, attr, name, data) => {\n        if (!this.var(attr, data)) this.remove(el)\n      },\n      unless: (el, attr, name, data) => {\n        if (this.var(attr, data)) this.remove(el)\n      },\n      text: (el, attr, name, data) => {\n        el.textContent = this.var(attr, data)\n      },\n      html: (el, attr, name, data) => {\n        el.innerHTML = this.var(attr, data)\n      },\n      class: (el, attr, name, data) => {\n        el.classList.add(this.var(attr, data))\n      },\n      attr: (el, attr, name, data) => {\n        const res = attr.match(/([A-Za-z-_]*)([A-Za-z]\\w*)/gm)\n        if (res.length !== 2) return\n        this.attr(el, res[1], res[0], data)\n      }\n    }\n    'id for value placeholder disabled checked readonly href name'\n      .split(' ')\n      .reduce((r, k) => {\n        r[k] = this.attr.bind(this)\n        return r\n      }, this.methods)\n    this.methods = Object.assign({}, this.methods, this.options.methods)\n  }\n  parseHtml (template, data) {\n    const wrap = document.createElement('div')\n    wrap.innerHTML = template\n    wrap.childNodes.forEach((cEl) => this.nested(cEl, data))\n    return wrap.innerHTML\n  }\n  parseNode (wrap, data) {\n    wrap.childNodes.forEach((cEl) => this.nested(cEl, data))\n  }\n  attr (el, attr, name, data) {\n    const value = this.var(attr, data)\n    if (value === false) el.removeAttribute(name, value)\n    else el.setAttribute(name, value)\n  }\n  nested (el, data) {\n    if (el.nodeName === '#text') return\n\n    const methods = this.methods\n    for (const key in methods) {\n      const method = methods[key]\n      const attrName = this.options.prefix + key\n      if (el.hasAttribute(attrName)) {\n        const attr = el.getAttribute(attrName)\n        el.removeAttribute(attrName)\n        if (method(el, attr, key, data)) return\n      }\n    }\n\n    Object.values(el.childNodes).map((cEl) => this.nested(cEl, data))\n  }\n  remove (el) {\n    el.parentNode.removeChild(el)\n  }\n  var (name, data) {\n    try {\n      return new Function('v', `with (v) { return (${name})}`)(data)\n    } catch(e) {\n      return console.error(e, name)\n    }\n  }\n\n}\n\nwindow.Twill = Twill\nmodule.exports = Twill\n"],"sourceRoot":""}